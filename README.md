# ToxGuard - это RuBERT-based Модератор Контента с Объяснимым ИИ (XAI)

Проект представляет собой полный цикл разработки системы модерации пользовательского контента. Система включает обученную модель на базе RuBERT, REST API для скорирования и интерактивное клиентское приложение с функцией объяснения решений (XAI).

## Ключевые Функции

**Классификация Токсичности:** Определение категорий: **NORMAL, INSULT, THREAT, OBSCENITY**.
**Объяснимый ИИ (XAI):** Визуализация вклада каждого слова в финальное решение модели с помощью метода Integrated Gradients (библиотека Captum).
**REST API:** Быстрый, асинхронный сервер на **FastAPI**.
**Real-time Scoring:** Автоматический запуск скорирования при вводе текста с использованием техники **Debouncing** для оптимизации запросов.
**Продвинутый UI/UX:** Настраиваемый порог токсичности и функция **Тёмной темы**.

---

## Как Запустить Проект

Для запуска проекта вам потребуется **Python 3.8+** и **pip**.

### 1. Установка Зависимостей

Установите все необходимые библиотеки, включая фреймворки и ML-инструменты:

```bash
pip install fastapi uvicorn torch transformers pydantic captum
```

2. Загрузка Модели
Проект работает с локальной версией модели RuBERT. Убедитесь, что файлы вашей обученной модели, находятся в папке, как указано в **app_api.py**.
Модель должна находиться в папке **rubert_model/**.

3. Запуск Сервера API
Запустите сервер с помощью Uvicorn в режиме reload (для разработки):gi
```bash
uvicorn app_api:app --reload
```
Сервер будет доступен по адресу: **http://127.0.0.1:8000**

4. Запуск Клиента
Откройте файл **moderator_web_app.html** в любом современном веб-браузере (Chrome, Firefox). Клиент автоматически подключится к запущенному API.

## Структура Проекта

**app_api.py** - Основной файл сервера. Содержит логику загрузки модели, функции **classify_text** и эндпоинты **/api/moderate** и **/api/explain**.

**moderator_web_app.html** - Клиентское приложение. Содержит HTML, CSS и JavaScript-логику, включая Debounce, XAI-визуализацию и Dark Mode.

**rubert_model/** - Папка с файлами обученной модели.

**README.md** - Этот файл с инструкциями и описанием проекта.

## Принцип Работы XAI

Для объяснения решений модели используется метод Integrated Gradients из библиотеки Captum.

1. Целевой Класс: Пользователь выбирает класс (например, INSULT).
2. Градиент: Рассчитывается влияние (градиент) каждого токена на уверенность модели в этом классе.
3. Визуализация:
* Красный: Слово оказывает положительное влияние, усиливая токсичность.
* Синий: Слово оказывает отрицательное влияние, противодействуя токсичности (например, частица "не").

# Ключевые Технологии

* Backend: Python, FastAPI, Uvicorn
* ML Stack: PyTorch, Hugging Face Transformers, Captum
* Frontend: HTML5, CSS3, JavaScript (Debouncing)
